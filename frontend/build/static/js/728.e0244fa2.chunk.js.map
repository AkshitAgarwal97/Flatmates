{"version":3,"file":"static/js/728.e0244fa2.chunk.js","mappings":"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","sources":["pages/auth/ForgotPassword.tsx","../node_modules/@mui/icons-material/LockReset.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { sendOTP, verifyOTP, resetPassword, resetState } from \"../../redux/slices/passwordResetSlice\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { useAppDispatch, RootState } from \"../../redux/store\";\r\n\r\n// MUI components\r\nimport Box from \"@mui/material/Box\";\r\nimport Button from \"@mui/material/Button\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Container from \"@mui/material/Container\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport Alert from \"@mui/material/Alert\";\r\nimport LockResetIcon from \"@mui/icons-material/LockReset\";\r\nimport Avatar from \"@mui/material/Avatar\";\r\n\r\nconst ForgotPassword = () => {\r\n  const dispatch = useAppDispatch();\r\n  const navigate = useNavigate();\r\n  const { loading, error, step, email: savedEmail, message } = useSelector(\r\n    (state: RootState) => state.passwordReset\r\n  );\r\n\r\n  const [localEmail, setLocalEmail] = useState(\"\");\r\n  const [localOtp, setLocalOtp] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    // Reset state when component mounts\r\n    dispatch(resetState());\r\n  }, [dispatch]);\r\n\r\n  // Email form\r\n  const emailFormik = useFormik({\r\n    initialValues: { email: \"\" },\r\n    validationSchema: Yup.object({\r\n      email: Yup.string().email(\"Invalid email address\").required(\"Email is required\")\r\n    }),\r\n    onSubmit: (values) => {\r\n      setLocalEmail(values.email);\r\n      dispatch(sendOTP(values.email) as any);\r\n    }\r\n  });\r\n\r\n  // OTP form\r\n  const otpFormik = useFormik({\r\n    initialValues: { otp: \"\" },\r\n    validationSchema: Yup.object({\r\n      otp: Yup.string().length(6, \"OTP must be 6 digits\").required(\"OTP is required\")\r\n    }),\r\n    onSubmit: (values) => {\r\n      setLocalOtp(values.otp);\r\n      dispatch(verifyOTP({ email: savedEmail || localEmail, otp: values.otp }) as any);\r\n    }\r\n  });\r\n\r\n  // Password form\r\n  const passwordFormik = useFormik({\r\n    initialValues: { password: \"\", confirmPassword: \"\" },\r\n    validationSchema: Yup.object({\r\n      password: Yup.string().min(6, \"Password must be at least 6 characters\").required(\"Password is required\"),\r\n      confirmPassword: Yup.string()\r\n        .oneOf([Yup.ref(\"password\")], \"Passwords must match\")\r\n        .required(\"Confirm password is required\")\r\n    }),\r\n    onSubmit: (values) => {\r\n      dispatch(resetPassword({ \r\n        email: savedEmail || localEmail, \r\n        otp: localOtp, \r\n        password: values.password \r\n      }) as any);\r\n    }\r\n  });\r\n\r\n  const handleBackToLogin = () => {\r\n    dispatch(resetState());\r\n    navigate(\"/login\");\r\n  };\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"sm\">\r\n      <Box sx={{ marginTop: 8, display: \"flex\", flexDirection: \"column\", alignItems: \"center\" }}>\r\n        <Avatar sx={{ m: 1, bgcolor: \"secondary.main\" }}>\r\n          <LockResetIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Reset Password\r\n        </Typography>\r\n\r\n        <Paper elevation={3} sx={{ mt: 3, p: 4, width: \"100%\" }}>\r\n          {error && (\r\n            <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n              {error}\r\n            </Alert>\r\n          )}\r\n\r\n          {message && step !== \"success\" && (\r\n            <Alert severity=\"success\" sx={{ mb: 2 }}>\r\n              {message}\r\n            </Alert>\r\n          )}\r\n\r\n          {/* Step 1: Email */}\r\n          {step === \"email\" && (\r\n            <Box component=\"form\" onSubmit={emailFormik.handleSubmit}>\r\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n                Enter your email address and we'll send you an OTP to reset your password.\r\n              </Typography>\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"email\"\r\n                label=\"Email Address\"\r\n                name=\"email\"\r\n                autoComplete=\"email\"\r\n                autoFocus\r\n                value={emailFormik.values.email}\r\n                onChange={emailFormik.handleChange}\r\n                error={emailFormik.touched.email && Boolean(emailFormik.errors.email)}\r\n                helperText={emailFormik.touched.email && emailFormik.errors.email}\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                sx={{ mt: 3, mb: 2 }}\r\n                disabled={loading}\r\n              >\r\n                {loading ? <CircularProgress size={24} /> : \"Send OTP\"}\r\n              </Button>\r\n              <Button fullWidth variant=\"text\" onClick={handleBackToLogin}>\r\n                Back to Login\r\n              </Button>\r\n            </Box>\r\n          )}\r\n\r\n          {/* Step 2: OTP */}\r\n          {step === \"otp\" && (\r\n            <Box component=\"form\" onSubmit={otpFormik.handleSubmit}>\r\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n                Enter the 6-digit OTP sent to {savedEmail || localEmail}\r\n              </Typography>\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                id=\"otp\"\r\n                label=\"OTP Code\"\r\n                name=\"otp\"\r\n                autoFocus\r\n                inputProps={{ maxLength: 6 }}\r\n                value={otpFormik.values.otp}\r\n                onChange={otpFormik.handleChange}\r\n                error={otpFormik.touched.otp && Boolean(otpFormik.errors.otp)}\r\n                helperText={otpFormik.touched.otp && otpFormik.errors.otp}\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                sx={{ mt: 3, mb: 2 }}\r\n                disabled={loading}\r\n              >\r\n                {loading ? <CircularProgress size={24} /> : \"Verify OTP\"}\r\n              </Button>\r\n              <Button fullWidth variant=\"text\" onClick={() => dispatch(resetState())}>\r\n                Resend OTP\r\n              </Button>\r\n            </Box>\r\n          )}\r\n\r\n          {/* Step 3: New Password */}\r\n          {step === \"password\" && (\r\n            <Box component=\"form\" onSubmit={passwordFormik.handleSubmit}>\r\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n                Enter your new password\r\n              </Typography>\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"password\"\r\n                label=\"New Password\"\r\n                type=\"password\"\r\n                id=\"password\"\r\n                autoFocus\r\n                value={passwordFormik.values.password}\r\n                onChange={passwordFormik.handleChange}\r\n                error={passwordFormik.touched.password && Boolean(passwordFormik.errors.password)}\r\n                helperText={passwordFormik.touched.password && passwordFormik.errors.password}\r\n              />\r\n              <TextField\r\n                margin=\"normal\"\r\n                required\r\n                fullWidth\r\n                name=\"confirmPassword\"\r\n                label=\"Confirm Password\"\r\n                type=\"password\"\r\n                id=\"confirmPassword\"\r\n                value={passwordFormik.values.confirmPassword}\r\n                onChange={passwordFormik.handleChange}\r\n                error={passwordFormik.touched.confirmPassword && Boolean(passwordFormik.errors.confirmPassword)}\r\n                helperText={passwordFormik.touched.confirmPassword && passwordFormik.errors.confirmPassword}\r\n              />\r\n              <Button\r\n                type=\"submit\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                sx={{ mt: 3, mb: 2 }}\r\n                disabled={loading}\r\n              >\r\n                {loading ? <CircularProgress size={24} /> : \"Reset Password\"}\r\n              </Button>\r\n            </Box>\r\n          )}\r\n\r\n          {/* Step 4: Success */}\r\n          {step === \"success\" && (\r\n            <Box textAlign=\"center\">\r\n              <Alert severity=\"success\" sx={{ mb: 3 }}>\r\n                {message || \"Password reset successfully!\"}\r\n              </Alert>\r\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n                You can now login with your new password.\r\n              </Typography>\r\n              <Button\r\n                fullWidth\r\n                variant=\"contained\"\r\n                onClick={handleBackToLogin}\r\n              >\r\n                Go to Login\r\n              </Button>\r\n            </Box>\r\n          )}\r\n        </Paper>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ForgotPassword;\r\n","\"use strict\";\n\"use client\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = exports.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M13 3c-4.97 0-9 4.03-9 9H1l4 4 4-4H6c0-3.86 3.14-7 7-7s7 3.14 7 7-3.14 7-7 7c-1.9 0-3.62-.76-4.88-1.99L6.7 18.42C8.32 20.01 10.55 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9m2 8v-1c0-1.1-.9-2-2-2s-2 .9-2 2v1c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1m-1 0h-2v-1c0-.55.45-1 1-1s1 .45 1 1z\"\n}), 'LockReset');"],"names":["ForgotPassword","dispatch","useAppDispatch","navigate","useNavigate","loading","error","step","email","savedEmail","message","useSelector","state","passwordReset","localEmail","setLocalEmail","useState","localOtp","setLocalOtp","useEffect","resetState","emailFormik","useFormik","initialValues","validationSchema","Yup","required","onSubmit","values","sendOTP","otpFormik","otp","length","verifyOTP","passwordFormik","password","confirmPassword","min","oneOf","resetPassword","handleBackToLogin","_jsx","Container","component","maxWidth","children","_jsxs","Box","sx","marginTop","display","flexDirection","alignItems","Avatar","m","bgcolor","LockResetIcon","Typography","variant","Paper","elevation","mt","p","width","Alert","severity","mb","handleSubmit","color","TextField","margin","fullWidth","id","label","name","autoComplete","autoFocus","value","onChange","handleChange","touched","Boolean","errors","helperText","Button","type","disabled","CircularProgress","size","onClick","inputProps","maxLength","textAlign","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","default","jsx","d"],"sourceRoot":""}