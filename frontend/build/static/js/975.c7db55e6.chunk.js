"use strict";(self.webpackChunkflatmates_frontend=self.webpackChunkflatmates_frontend||[]).push([[975],{2110:(e,t,n)=>{n.d(t,{A:()=>g});var r=n(8168),s=n(8587),o=n(5043),i=n(8387),a=n(8610),c=n(4535),d=n(8206),l=n(3336),x=n(2532),A=n(2372);function h(e){return(0,A.Ay)("MuiCard",e)}(0,x.A)("MuiCard",["root"]);var m=n(579);const p=["className","raised"],v=(0,c.Ay)(l.A,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({overflow:"hidden"})),g=o.forwardRef(function(e,t){const n=(0,d.b)({props:e,name:"MuiCard"}),{className:o,raised:c=!1}=n,l=(0,s.A)(n,p),x=(0,r.A)({},n,{raised:c}),A=(e=>{const{classes:t}=e;return(0,a.A)({root:["root"]},h,t)})(x);return(0,m.jsx)(v,(0,r.A)({className:(0,i.A)(A.root,o),elevation:c?8:void 0,ref:t,ownerState:x},l))})},3012:(e,t,n)=>{var r=n(4994);t.A=void 0;var s=r(n(39)),o=n(579);t.A=(0,s.default)((0,o.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark")},3813:(e,t,n)=>{var r=n(4994);t.A=void 0;var s=r(n(39)),o=n(579);t.A=(0,s.default)((0,o.jsx)("path",{d:"M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-2 12H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"}),"Message")},5975:(e,t,n)=>{n.r(t),n.d(t,{default:()=>B});var r=n(5043),s=n(9456),o=n(5475),i=n(7462),a=n(8012),c=n(8202),d=n(8903),l=n(5865),x=n(2110),A=n(6494),h=n(7600),m=n(1906),p=n(6446),v=n(9336),g=n(5721),j=n(4628),u=n(8734),y=n(3851),b=n(1045),f=n(8739),w=n(8185),C=n(3336),M=n(3639),_=n(3813),N=n(3012),S=n(2505),k=n(579);const B=()=>{const e=(0,c.jL)(),{user:t}=(0,s.d4)(e=>e.auth),{userListings:n,savedProperties:B,loading:z}=(0,s.d4)(e=>e.property),{conversations:R,unreadCount:L,loading:V}=(0,s.d4)(e=>e.message);(0,r.useEffect)(()=>{e((0,i.pu)()),e((0,a.lS)())},[e]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(p.A,{sx:{mb:4},children:[(0,k.jsxs)(l.A,{variant:"h4",component:"h1",gutterBottom:!0,children:[(()=>{const e=(new Date).getHours();return e<12?"Good morning":e<18?"Good afternoon":"Good evening"})(),", ",null===t||void 0===t?void 0:t.name,"!"]}),(0,k.jsx)(l.A,{variant:"body1",color:"text.secondary",children:"Welcome to your Flatmates dashboard. Here's an overview of your activity."})]}),(0,k.jsxs)(d.Ay,{container:!0,spacing:4,children:[(0,k.jsx)(d.Ay,{item:!0,xs:12,md:6,children:(0,k.jsxs)(C.A,{elevation:2,sx:{p:3,height:"100%"},children:[(0,k.jsxs)(p.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,k.jsx)(l.A,{variant:"h6",component:"h2",children:"Your Listings"}),(0,k.jsx)(m.A,{component:o.N_,to:"/properties/create",variant:"outlined",startIcon:(0,k.jsx)(S.A,{}),size:"small",children:"Add New"})]}),z?Array.from(new Array(3)).map((e,t)=>(0,k.jsxs)(p.A,{sx:{mb:2},children:[(0,k.jsx)(w.A,{variant:"rectangular",height:118}),(0,k.jsx)(w.A,{}),(0,k.jsx)(w.A,{width:"60%"})]},t)):n&&n.length>0?n.slice(0,3).map(e=>(0,k.jsxs)(x.A,{sx:{mb:2},children:[(0,k.jsxs)(A.A,{children:[(0,k.jsx)(l.A,{variant:"h6",component:"div",noWrap:!0,children:e.title}),(0,k.jsxs)(l.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:[e.address.city,", ",e.address.state]}),(0,k.jsxs)(l.A,{variant:"body2",children:[e.price.amount,e.price.brokerage&&e.price.brokerage>0?(0,k.jsxs)("span",{children:[" (Brokerage: ",e.price.brokerage,")"]}):null]})]}),(0,k.jsxs)(h.A,{children:[(0,k.jsx)(m.A,{size:"small",component:o.N_,to:"/properties/".concat(e._id),children:"View"}),(0,k.jsx)(m.A,{size:"small",component:o.N_,to:"/properties/edit/".concat(e._id),children:"Edit"})]})]},e._id)):(0,k.jsxs)(p.A,{sx:{textAlign:"center",py:4},children:[(0,k.jsx)(M.A,{sx:{fontSize:60,color:"text.secondary",mb:2}}),(0,k.jsx)(l.A,{variant:"body1",gutterBottom:!0,children:"You haven't created any listings yet."}),(0,k.jsx)(m.A,{component:o.N_,to:"/properties/create",variant:"contained",startIcon:(0,k.jsx)(S.A,{}),sx:{mt:2},children:"Create Your First Listing"})]}),n&&n.length>0&&(0,k.jsx)(p.A,{sx:{mt:2,textAlign:"right"},children:(0,k.jsx)(m.A,{component:o.N_,to:"/properties/my-listings",children:"View All Listings"})})]})}),(0,k.jsx)(d.Ay,{item:!0,xs:12,md:6,children:(0,k.jsxs)(C.A,{elevation:2,sx:{p:3,height:"100%"},children:[(0,k.jsxs)(p.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,k.jsx)(l.A,{variant:"h6",component:"h2",children:"Recent Messages"}),(0,k.jsx)(f.A,{badgeContent:L,color:"error",children:(0,k.jsx)(_.A,{})})]}),V?Array.from(new Array(3)).map((e,t)=>(0,k.jsxs)(p.A,{sx:{display:"flex",mb:2},children:[(0,k.jsx)(w.A,{variant:"circular",width:40,height:40,sx:{mr:2}}),(0,k.jsxs)(p.A,{sx:{width:"100%"},children:[(0,k.jsx)(w.A,{width:"60%"}),(0,k.jsx)(w.A,{})]})]},t)):R&&R.length>0?(0,k.jsx)(g.A,{sx:{width:"100%",bgcolor:"background.paper"},children:R.slice(0,5).map(e=>{var n,s,i,a,c;const d=e.participants.find(e=>e._id!==(null===t||void 0===t?void 0:t._id));return(0,k.jsxs)(r.Fragment,{children:[(0,k.jsxs)(j.Ay,{alignItems:"flex-start",component:o.N_,to:"/messages/".concat(e._id),sx:{textDecoration:"none",color:"inherit",bgcolor:e.unreadCount>0?"action.hover":"inherit","&:hover":{bgcolor:"action.hover"}},children:[(0,k.jsx)(y.A,{children:(0,k.jsx)(f.A,{overlap:"circular",anchorOrigin:{vertical:"bottom",horizontal:"right"},variant:"dot",color:"success",invisible:!e.unreadCount,children:(0,k.jsx)(b.A,{alt:"Profile picture of ".concat(null===d||void 0===d?void 0:d.name),src:null===d||void 0===d?void 0:d.avatar})})}),(0,k.jsx)(u.A,{primary:null===d||void 0===d?void 0:d.name,secondary:(0,k.jsxs)(r.Fragment,{children:[(0,k.jsx)(l.A,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",children:null!==(n=e.lastMessage)&&void 0!==n&&n.content&&(null===(s=e.lastMessage)||void 0===s?void 0:s.content.length)>30?"".concat(null===(i=e.lastMessage)||void 0===i?void 0:i.content.substring(0,30),"..."):(null===(a=e.lastMessage)||void 0===a?void 0:a.content)||""})," \u2014 ".concat(new Date((null===(c=e.lastMessage)||void 0===c?void 0:c.createdAt)||"").toLocaleDateString())]})})]}),(0,k.jsx)(v.A,{variant:"inset",component:"li"})]},e._id)})}):(0,k.jsxs)(p.A,{sx:{textAlign:"center",py:4},children:[(0,k.jsx)(_.A,{sx:{fontSize:60,color:"text.secondary",mb:2}}),(0,k.jsx)(l.A,{variant:"body1",gutterBottom:!0,children:"You don't have any messages yet."}),(0,k.jsx)(m.A,{component:o.N_,to:"/properties",variant:"contained",sx:{mt:2},children:"Browse Properties"})]}),R&&R.length>0&&(0,k.jsx)(p.A,{sx:{mt:2,textAlign:"right"},children:(0,k.jsx)(m.A,{component:o.N_,to:"/messages",children:"View All Messages"})})]})}),(0,k.jsx)(d.Ay,{item:!0,xs:12,children:(0,k.jsxs)(C.A,{elevation:2,sx:{p:3},children:[(0,k.jsxs)(p.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,k.jsx)(l.A,{variant:"h6",component:"h2",children:"Saved Properties"}),(0,k.jsx)(N.A,{})]}),z?(0,k.jsx)(d.Ay,{container:!0,spacing:3,children:Array.from(new Array(3)).map((e,t)=>(0,k.jsxs)(d.Ay,{item:!0,xs:12,sm:6,md:4,children:[(0,k.jsx)(w.A,{variant:"rectangular",height:118}),(0,k.jsx)(w.A,{}),(0,k.jsx)(w.A,{width:"60%"})]},t))}):B&&B.length>0?(0,k.jsx)(d.Ay,{container:!0,spacing:3,children:B.slice(0,3).map(e=>(0,k.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,k.jsxs)(x.A,{children:[(0,k.jsxs)(A.A,{children:[(0,k.jsx)(l.A,{variant:"h6",component:"div",noWrap:!0,children:e.title}),(0,k.jsxs)(l.A,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:[e.address.city,", ",e.address.state]}),(0,k.jsxs)(l.A,{variant:"body2",children:[e.price.amount,e.price.brokerage&&e.price.brokerage>0?(0,k.jsxs)("span",{children:[" ","(Brokerage: ",e.price.brokerage,")"]}):null]})]}),(0,k.jsx)(h.A,{children:(0,k.jsx)(m.A,{size:"small",component:o.N_,to:"/properties/".concat(e._id),children:"View Details"})})]})},e._id))}):(0,k.jsxs)(p.A,{sx:{textAlign:"center",py:4},children:[(0,k.jsx)(N.A,{sx:{fontSize:60,color:"text.secondary",mb:2}}),(0,k.jsx)(l.A,{variant:"body1",gutterBottom:!0,children:"You haven't saved any properties yet."}),(0,k.jsx)(m.A,{component:o.N_,to:"/properties",variant:"contained",sx:{mt:2},children:"Browse Properties"})]}),B&&B.length>0&&(0,k.jsx)(p.A,{sx:{mt:2,textAlign:"right"},children:(0,k.jsx)(m.A,{component:o.N_,to:"/saved",children:"View All Saved Properties"})})]})})]})]})}},6494:(e,t,n)=>{n.d(t,{A:()=>v});var r=n(8168),s=n(8587),o=n(5043),i=n(8387),a=n(8610),c=n(4535),d=n(8206),l=n(2532),x=n(2372);function A(e){return(0,x.Ay)("MuiCardContent",e)}(0,l.A)("MuiCardContent",["root"]);var h=n(579);const m=["className","component"],p=(0,c.Ay)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),v=o.forwardRef(function(e,t){const n=(0,d.b)({props:e,name:"MuiCardContent"}),{className:o,component:c="div"}=n,l=(0,s.A)(n,m),x=(0,r.A)({},n,{component:c}),v=(e=>{const{classes:t}=e;return(0,a.A)({root:["root"]},A,t)})(x);return(0,h.jsx)(p,(0,r.A)({as:c,className:(0,i.A)(v.root,o),ownerState:x,ref:t},l))})},7600:(e,t,n)=>{n.d(t,{A:()=>v});var r=n(8587),s=n(8168),o=n(5043),i=n(8387),a=n(8610),c=n(4535),d=n(8206),l=n(2532),x=n(2372);function A(e){return(0,x.Ay)("MuiCardActions",e)}(0,l.A)("MuiCardActions",["root","spacing"]);var h=n(579);const m=["disableSpacing","className"],p=(0,c.Ay)("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})(e=>{let{ownerState:t}=e;return(0,s.A)({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})}),v=o.forwardRef(function(e,t){const n=(0,d.b)({props:e,name:"MuiCardActions"}),{disableSpacing:o=!1,className:c}=n,l=(0,r.A)(n,m),x=(0,s.A)({},n,{disableSpacing:o}),v=(e=>{const{classes:t,disableSpacing:n}=e,r={root:["root",!n&&"spacing"]};return(0,a.A)(r,A,t)})(x);return(0,h.jsx)(p,(0,s.A)({className:(0,i.A)(v.root,c),ownerState:x,ref:t},l))})}}]);
//# sourceMappingURL=975.c7db55e6.chunk.js.map