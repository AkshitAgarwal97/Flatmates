{"version":3,"file":"static/js/761.6e3c6907.chunk.js","mappings":"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","sources":["pages/auth/Login.tsx","pages/auth/Register.tsx","pages/auth/CompleteProfile.tsx","pages/auth/AuthSuccess.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link as RouterLink, useNavigate } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { login, clearError } from \"../../redux/slices/authSlice\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { useAppDispatch, RootState } from \"../../redux/store\";\r\n\r\n// MUI components\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport Button from \"@mui/material/Button\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\nimport Link from \"@mui/material/Link\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\nimport Dialog from \"@mui/material/Dialog\";\r\nimport DialogTitle from \"@mui/material/DialogTitle\";\r\nimport DialogContent from \"@mui/material/DialogContent\";\r\nimport DialogContentText from \"@mui/material/DialogContentText\";\r\nimport DialogActions from \"@mui/material/DialogActions\";\r\n\r\n// MUI icons\r\nimport LockOutlinedIcon from \"@mui/icons-material/LockOutlined\";\r\n\r\n// Types\r\ninterface LoginFormValues {\r\n  email: string;\r\n  password: string;\r\n}\r\n\r\n// Validation schema\r\nconst validationSchema = Yup.object({\r\n  email: Yup.string()\r\n    .email(\"Enter a valid email\")\r\n    .required(\"Email is required\"),\r\n  password: Yup.string()\r\n    .min(6, \"Password should be of minimum 6 characters length\")\r\n    .required(\"Password is required\"),\r\n});\r\n\r\nconst Login = () => {\r\n  const dispatch = useAppDispatch();\r\n  const navigate = useNavigate();\r\n  const { isAuthenticated, loading, error } = useSelector(\r\n    (state: RootState) => state.auth\r\n  );\r\n  const [rememberMe, setRememberMe] = useState(false);\r\n  const [errorDialog, setErrorDialog] = useState<{\r\n    open: boolean;\r\n    message: string;\r\n    showRegisterButton: boolean;\r\n    showForgotPasswordButton: boolean;\r\n  }>({\r\n    open: false,\r\n    message: '',\r\n    showRegisterButton: false,\r\n    showForgotPasswordButton: false\r\n  });\r\n\r\n  // Redirect if already authenticated\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      navigate(\"/dashboard\");\r\n    }\r\n  }, [isAuthenticated, navigate]);\r\n\r\n  // Clear error when component unmounts (user navigates away)\r\n  useEffect(() => {\r\n    return () => {\r\n      dispatch(clearError());\r\n    };\r\n  }, [dispatch]);\r\n\r\n  // Show error dialog if login fails\r\n  useEffect(() => {\r\n    if (error) {\r\n      // Don't show dialog for \"No token found\" - this is expected when user first visits\r\n      if (error === 'No token found' || (typeof error === 'string' && error.includes('No token found'))) {\r\n        return;\r\n      }\r\n      \r\n      const errorData = typeof error === 'object' ? error : { errors: [{ msg: error }] };\r\n      const errorMsg = errorData?.errors?.[0]?.msg || errorData?.msg || 'Login failed';\r\n      const errorType = errorData?.errors?.[0]?.type;\r\n      \r\n      setErrorDialog({\r\n        open: true,\r\n        message: errorMsg,\r\n        showRegisterButton: errorType === 'USER_NOT_FOUND',\r\n        showForgotPasswordButton: errorType === 'INVALID_PASSWORD'\r\n      });\r\n    }\r\n  }, [error]);\r\n\r\n  const handleCloseErrorDialog = () => {\r\n    setErrorDialog({ open: false, message: '', showRegisterButton: false, showForgotPasswordButton: false });\r\n    dispatch(clearError());\r\n  };\r\n\r\n  const handleNavigateToRegister = () => {\r\n    navigate('/register');\r\n  };\r\n\r\n  const handleNavigateToForgotPassword = () => {\r\n    navigate('/forgot-password');\r\n  };\r\n\r\n  // Formik setup\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      email: \"\",\r\n      password: \"\",\r\n    },\r\n    validationSchema: validationSchema,\r\n    onSubmit: (values: LoginFormValues) => {\r\n      dispatch(login(values) as any);\r\n    },\r\n  });\r\n\r\n  return (\r\n    <Grid container component=\"main\" sx={{ height: \"100vh\" }}>\r\n      <Grid\r\n        item\r\n        xs={false}\r\n        sm={4}\r\n        md={7}\r\n        sx={{\r\n          backgroundImage:\r\n            \"url(https://picsum.photos/seed/apartment-login/1600/900)\",\r\n          backgroundRepeat: \"no-repeat\",\r\n          backgroundColor: (t) =>\r\n            t.palette.mode === \"light\"\r\n              ? t.palette.grey[50]\r\n              : t.palette.grey[900],\r\n          backgroundSize: \"cover\",\r\n          backgroundPosition: \"center\",\r\n        }}\r\n      />\r\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n        <Box\r\n          sx={{\r\n            my: 8,\r\n            mx: 4,\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <Avatar sx={{ m: 1, bgcolor: \"secondary.main\" }}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign in\r\n          </Typography>\r\n\r\n          <Box\r\n            component=\"form\"\r\n            noValidate\r\n            onSubmit={formik.handleSubmit}\r\n            sx={{ mt: 1, width: \"100%\" }}\r\n          >\r\n            <TextField\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"Email Address\"\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              autoFocus\r\n              value={formik.values.email}\r\n              onChange={formik.handleChange}\r\n              onBlur={formik.handleBlur}\r\n              error={formik.touched.email && Boolean(formik.errors.email)}\r\n              helperText={formik.touched.email && formik.errors.email}\r\n            />\r\n            <TextField\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n              value={formik.values.password}\r\n              onChange={formik.handleChange}\r\n              onBlur={formik.handleBlur}\r\n              error={formik.touched.password && Boolean(formik.errors.password)}\r\n              helperText={formik.touched.password && formik.errors.password}\r\n            />\r\n            <FormControlLabel\r\n              control={\r\n                <Checkbox\r\n                  value=\"remember\"\r\n                  color=\"primary\"\r\n                  checked={rememberMe}\r\n                  onChange={(e) => setRememberMe(e.target.checked)}\r\n                />\r\n              }\r\n              label=\"Remember me\"\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              sx={{ mt: 3, mb: 2 }}\r\n              disabled={loading}\r\n            >\r\n              {loading ? <CircularProgress size={24} /> : \"Sign In\"}\r\n            </Button>\r\n            <Grid container>\r\n              <Grid item xs>\r\n                <Link\r\n                  component={RouterLink}\r\n                  to=\"/forgot-password\"\r\n                  variant=\"body2\"\r\n                >\r\n                  Forgot password?\r\n                </Link>\r\n              </Grid>\r\n              <Grid item>\r\n                <Link component={RouterLink} to=\"/register\" variant=\"body2\">\r\n                  {\"Don't have an account? Sign Up\"}\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n            <Box sx={{ mt: 3, textAlign: 'center' }}>\r\n              <Typography variant=\"caption\" color=\"text.secondary\">\r\n                By signing in, you agree to our{\" \"}\r\n                <Link component={RouterLink} to=\"/privacy\" color=\"primary\">\r\n                  Privacy Policy\r\n                </Link>\r\n              </Typography>\r\n            </Box>\r\n          </Box>\r\n        </Box>\r\n\r\n        {/* Error Dialog */}\r\n        <Dialog\r\n          open={errorDialog.open}\r\n          onClose={handleCloseErrorDialog}\r\n          aria-labelledby=\"error-dialog-title\"\r\n        >\r\n          <DialogTitle id=\"error-dialog-title\">\r\n            Login Failed\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText>\r\n              {errorDialog.message}\r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            {errorDialog.showRegisterButton && (\r\n              <Button onClick={handleNavigateToRegister} color=\"primary\" variant=\"contained\">\r\n                Register\r\n              </Button>\r\n            )}\r\n            {errorDialog.showForgotPasswordButton && (\r\n              <Button onClick={handleNavigateToForgotPassword} color=\"primary\" variant=\"contained\">\r\n                Forgot Password\r\n              </Button>\r\n            )}\r\n            <Button onClick={handleCloseErrorDialog} color=\"primary\" autoFocus>\r\n              Retry\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useEffect } from \"react\";\r\nimport { Link as RouterLink, useNavigate } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { register } from \"../../redux/slices/authSlice\";\r\nimport { showAlert } from \"../../redux/slices/alertSlice\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { RootState, useAppDispatch } from \"../../redux/store\";\r\n\r\n// MUI components\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport Button from \"@mui/material/Button\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport Link from \"@mui/material/Link\";\r\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\nimport FormHelperText from \"@mui/material/FormHelperText\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\n\r\n// MUI icons\r\nimport PersonAddIcon from \"@mui/icons-material/PersonAdd\";\r\n\r\n// Types\r\ninterface RegisterFormValues {\r\n  name: string;\r\n  email: string;\r\n  password: string;\r\n  confirmPassword: string;\r\n  agreeToTerms: boolean;\r\n}\r\n\r\ninterface AuthState {\r\n  isAuthenticated: boolean;\r\n  loading: boolean;\r\n  error: string | null;\r\n}\r\n\r\n// Validation schema\r\nconst validationSchema = Yup.object({\r\n  name: Yup.string().required(\"Name is required\"),\r\n  email: Yup.string()\r\n    .email(\"Enter a valid email\")\r\n    .required(\"Email is required\"),\r\n  password: Yup.string()\r\n    .min(6, \"Password should be of minimum 6 characters length\")\r\n    .required(\"Password is required\"),\r\n  confirmPassword: Yup.string()\r\n    .oneOf([Yup.ref(\"password\") as any, undefined], \"Passwords must match\")\r\n    .required(\"Confirm Password is required\"),\r\n  agreeToTerms: Yup.boolean()\r\n    .oneOf([true], \"You must agree to the privacy policy\")\r\n    .required(\"Field is required\"),\r\n});\r\n\r\nconst Register = () => {\r\n  const dispatch = useAppDispatch();\r\n  const navigate = useNavigate();\r\n  const { isAuthenticated, loading, error } = useSelector(\r\n    (state: RootState) => state.auth as AuthState\r\n  );\r\n\r\n  // Redirect if already authenticated\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      navigate(\"/dashboard\");\r\n    }\r\n  }, [isAuthenticated, navigate]);\r\n\r\n  // Show error alert if registration fails\r\n  useEffect(() => {\r\n    if (error) {\r\n      const errorMessage = typeof error === 'string' ? error.toLowerCase() : '';\r\n      if (errorMessage.includes(\"already registered\") || errorMessage.includes(\"already exists\")) {\r\n        dispatch(showAlert(\"info\", \"You are already registered. Please login.\"));\r\n        navigate(\"/login\");\r\n      } else {\r\n        dispatch(showAlert(\"error\", error));\r\n      }\r\n      // Clear error to avoid repeated alerts\r\n      // dispatch(clearError()); // Assuming clearError action exists and is imported\r\n    }\r\n  }, [error, dispatch, navigate]);\r\n\r\n  // Formik setup\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      confirmPassword: \"\",\r\n      agreeToTerms: false,\r\n    },\r\n    validationSchema: validationSchema,\r\n    onSubmit: (values: RegisterFormValues) => {\r\n      const { confirmPassword, agreeToTerms, ...registerData } = values;\r\n      // Default userType to 'room_seeker' as it's required by backend but removed from frontend\r\n      dispatch(register({ ...registerData, userType: \"room_seeker\" }));\r\n    },\r\n  });\r\n\r\n  // Handle social login\r\n  // const handleSocialLogin = (provider: string) => {\r\n  //   window.location.href = `/api/auth/${provider}`;\r\n  // };\r\n\r\n  return (\r\n    <Grid container component=\"main\" sx={{ height: \"100vh\" }}>\r\n      <Grid\r\n        item\r\n        xs={false}\r\n        sm={4}\r\n        md={7}\r\n        sx={{\r\n          backgroundImage:\r\n            \"url(https://picsum.photos/seed/apartment-register/1600/900)\",\r\n          backgroundRepeat: \"no-repeat\",\r\n          backgroundColor: (t) =>\r\n            t.palette.mode === \"light\"\r\n              ? t.palette.grey[50]\r\n              : t.palette.grey[900],\r\n          backgroundSize: \"cover\",\r\n          backgroundPosition: \"center\",\r\n        }}\r\n      />\r\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n        <Box\r\n          sx={{\r\n            my: 8,\r\n            mx: 4,\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <Avatar sx={{ m: 1, bgcolor: \"primary.main\" }}>\r\n            <PersonAddIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign up\r\n          </Typography>\r\n\r\n          {/* Social Login Buttons\r\n          <Box sx={{ mt: 3, width: \"100%\" }}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"outlined\"\r\n                  startIcon={<GoogleIcon />}\r\n                  onClick={() => handleSocialLogin(\"google\")}\r\n                  sx={{ py: 1 }}\r\n                >\r\n                  Sign up with Google\r\n                </Button>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"outlined\"\r\n                  startIcon={<FacebookIcon />}\r\n                  onClick={() => handleSocialLogin(\"facebook\")}\r\n                  sx={{ py: 1 }}\r\n                >\r\n                  Sign up with Facebook\r\n                </Button>\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"outlined\"\r\n                  startIcon={<InstagramIcon />}\r\n                  onClick={() => handleSocialLogin(\"instagram\")}\r\n                  sx={{ py: 1 }}\r\n                >\r\n                  Sign up with Instagram\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Divider sx={{ my: 3 }}>\r\n              <Typography variant=\"body2\" color=\"text.secondary\">\r\n                OR\r\n              </Typography>\r\n            </Divider>\r\n          </Box> */}\r\n\r\n          {/* Registration Form */}\r\n          <Box\r\n            component=\"form\"\r\n            noValidate\r\n            onSubmit={formik.handleSubmit}\r\n            sx={{ mt: 1, width: \"100%\" }}\r\n          >\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  required\r\n                  fullWidth\r\n                  id=\"name\"\r\n                  label=\"Full Name\"\r\n                  name=\"name\"\r\n                  autoComplete=\"name\"\r\n                  value={formik.values.name}\r\n                  onChange={formik.handleChange}\r\n                  onBlur={formik.handleBlur}\r\n                  error={formik.touched.name && Boolean(formik.errors.name)}\r\n                  helperText={formik.touched.name && formik.errors.name}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  required\r\n                  fullWidth\r\n                  id=\"email\"\r\n                  label=\"Email Address\"\r\n                  name=\"email\"\r\n                  autoComplete=\"email\"\r\n                  value={formik.values.email}\r\n                  onChange={formik.handleChange}\r\n                  onBlur={formik.handleBlur}\r\n                  error={formik.touched.email && Boolean(formik.errors.email)}\r\n                  helperText={formik.touched.email && formik.errors.email}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label=\"Password\"\r\n                  type=\"password\"\r\n                  id=\"password\"\r\n                  autoComplete=\"new-password\"\r\n                  value={formik.values.password}\r\n                  onChange={formik.handleChange}\r\n                  onBlur={formik.handleBlur}\r\n                  error={\r\n                    formik.touched.password && Boolean(formik.errors.password)\r\n                  }\r\n                  helperText={formik.touched.password && formik.errors.password}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  required\r\n                  fullWidth\r\n                  name=\"confirmPassword\"\r\n                  label=\"Confirm Password\"\r\n                  type=\"password\"\r\n                  id=\"confirmPassword\"\r\n                  value={formik.values.confirmPassword}\r\n                  onChange={formik.handleChange}\r\n                  onBlur={formik.handleBlur}\r\n                  error={\r\n                    formik.touched.confirmPassword &&\r\n                    Boolean(formik.errors.confirmPassword)\r\n                  }\r\n                  helperText={\r\n                    formik.touched.confirmPassword &&\r\n                    formik.errors.confirmPassword\r\n                  }\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <FormControlLabel\r\n                  control={\r\n                    <Checkbox\r\n                      name=\"agreeToTerms\"\r\n                      color=\"primary\"\r\n                      checked={formik.values.agreeToTerms}\r\n                      onChange={formik.handleChange}\r\n                      onBlur={formik.handleBlur}\r\n                    />\r\n                  }\r\n                  label={\r\n                    <Typography variant=\"body2\">\r\n                      I agree to the{\" \"}\r\n                      <Link component={RouterLink} to=\"/privacy\" target=\"_blank\">\r\n                        Privacy Policy\r\n                      </Link>\r\n                    </Typography>\r\n                  }\r\n                />\r\n                {formik.touched.agreeToTerms && formik.errors.agreeToTerms && (\r\n                  <FormHelperText error sx={{ ml: 2 }}>\r\n                    {formik.errors.agreeToTerms}\r\n                  </FormHelperText>\r\n                )}\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              sx={{ mt: 3, mb: 2 }}\r\n              disabled={loading}\r\n            >\r\n              {loading ? <CircularProgress size={24} /> : \"Sign Up\"}\r\n            </Button>\r\n            <Grid container justifyContent=\"flex-end\">\r\n              <Grid item>\r\n                <Link component={RouterLink} to=\"/login\" variant=\"body2\">\r\n                  Already have an account? Sign in\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </Box>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React, { useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { completeProfile } from \"../../redux/slices/authSlice\";\r\nimport { showAlert } from \"../../redux/slices/alertSlice\";\r\nimport { useFormik } from \"formik\";\r\nimport * as Yup from \"yup\";\r\nimport { RootState, AppDispatch } from \"../../redux/store\";\r\n\r\n// MUI components\r\nimport Avatar from \"@mui/material/Avatar\";\r\nimport Button from \"@mui/material/Button\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport FormControl from \"@mui/material/FormControl\";\r\nimport FormLabel from \"@mui/material/FormLabel\";\r\nimport RadioGroup from \"@mui/material/RadioGroup\";\r\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\r\nimport Radio from \"@mui/material/Radio\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Grid from \"@mui/material/Grid\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Container from \"@mui/material/Container\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport CircularProgress from \"@mui/material/CircularProgress\";\r\n\r\n// MUI icons\r\nimport PersonIcon from \"@mui/icons-material/Person\";\r\n\r\n// Types\r\ninterface User {\r\n  _id: string;\r\n  name: string;\r\n  email: string;\r\n}\r\n\r\ninterface Preferences {\r\n  location: string;\r\n  budget: string;\r\n  moveInDate: string;\r\n  duration: string;\r\n  gender: string;\r\n}\r\n\r\ninterface CompleteProfileFormValues {\r\n  phone: string;\r\n  userType: string;\r\n  bio: string;\r\n  preferences: Preferences;\r\n}\r\n\r\ninterface AuthState {\r\n  token: string | null;\r\n  isAuthenticated: boolean | null;\r\n  loading: boolean;\r\n  user: User | null;\r\n  error: string | null;\r\n  needsProfileCompletion: boolean; // Use this instead of profileCompleted\r\n}\r\n\r\n// Validation schema\r\nconst validationSchema = Yup.object({\r\n  phone: Yup.string()\r\n    .matches(/^[0-9+\\-\\s]+$/, \"Invalid phone number format\")\r\n    .required(\"Phone number is required\"),\r\n  userType: Yup.string().required(\"Please select what you are looking for\"),\r\n  bio: Yup.string().max(500, \"Bio should not exceed 500 characters\"),\r\n});\r\n\r\nconst CompleteProfile = () => {\r\n  const dispatch = useDispatch<AppDispatch>();\r\n  const navigate = useNavigate();\r\n  const { user, loading, error, isAuthenticated, needsProfileCompletion } =\r\n    useSelector((state: RootState) => state.auth as AuthState);\r\n  // Redirect if profile is already completed\r\n  useEffect(() => {\r\n    if (isAuthenticated && !needsProfileCompletion) {\r\n      navigate(\"/dashboard\");\r\n    } else if (!isAuthenticated) {\r\n      navigate(\"/login\");\r\n    }\r\n  }, [isAuthenticated, needsProfileCompletion, navigate]);\r\n\r\n  // Show error alert if profile completion fails\r\n  useEffect(() => {\r\n    if (error) {\r\n      dispatch(showAlert(\"error\", error));\r\n    }\r\n  }, [error, dispatch]);\r\n\r\n  // Formik setup\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      phone: \"\",\r\n      userType: \"\",\r\n      bio: \"\",\r\n      preferences: {\r\n        location: \"\",\r\n        budget: \"\",\r\n        moveInDate: \"\",\r\n        duration: \"\",\r\n        gender: \"\",\r\n      },\r\n    },\r\n    validationSchema: validationSchema,\r\n    onSubmit: async (values: CompleteProfileFormValues) => {\r\n      dispatch(completeProfile(values) as any);\r\n    },\r\n  });\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"md\">\r\n      <Paper elevation={3} sx={{ p: 4, mt: 4 }}>\r\n        <Box\r\n          sx={{\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          <Avatar sx={{ m: 1, bgcolor: \"primary.main\", width: 56, height: 56 }}>\r\n            <PersonIcon fontSize=\"large\" />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Complete Your Profile\r\n          </Typography>\r\n          <Typography\r\n            variant=\"body1\"\r\n            sx={{ mt: 1, mb: 3, textAlign: \"center\" }}\r\n          >\r\n            Welcome {user?.name}! Please provide a few more details to complete\r\n            your profile.\r\n          </Typography>\r\n\r\n          <Box\r\n            component=\"form\"\r\n            noValidate\r\n            onSubmit={formik.handleSubmit}\r\n            sx={{ mt: 1, width: \"100%\" }}\r\n          >\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  required\r\n                  fullWidth\r\n                  id=\"phone\"\r\n                  label=\"Phone Number\"\r\n                  name=\"phone\"\r\n                  autoComplete=\"tel\"\r\n                  value={formik.values.phone}\r\n                  onChange={formik.handleChange}\r\n                  onBlur={formik.handleBlur}\r\n                  error={formik.touched.phone && Boolean(formik.errors.phone)}\r\n                  helperText={formik.touched.phone && formik.errors.phone}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12}>\r\n                <FormControl\r\n                  component=\"fieldset\"\r\n                  error={\r\n                    formik.touched.userType && Boolean(formik.errors.userType)\r\n                  }\r\n                >\r\n                  <FormLabel component=\"legend\">I am:</FormLabel>\r\n                  <RadioGroup\r\n                    aria-label=\"user-type\"\r\n                    name=\"userType\"\r\n                    value={formik.values.userType}\r\n                    onChange={formik.handleChange}\r\n                  >\r\n                    <FormControlLabel\r\n                      value=\"room_seeker\"\r\n                      control={<Radio />}\r\n                      label=\"Looking for a room in a shared flat\"\r\n                    />\r\n                    <FormControlLabel\r\n                      value=\"roommate_seeker\"\r\n                      control={<Radio />}\r\n                      label=\"Looking for roommates to find a flat together\"\r\n                    />\r\n                    <FormControlLabel\r\n                      value=\"broker_dealer\"\r\n                      control={<Radio />}\r\n                      label=\"Broker/Dealer - Offering rooms/properties on behalf of others\"\r\n                    />\r\n                    <FormControlLabel\r\n                      value=\"property_owner\"\r\n                      control={<Radio />}\r\n                      label=\"Offering a whole property for rent\"\r\n                    />\r\n                  </RadioGroup>\r\n                  {formik.touched.userType && formik.errors.userType && (\r\n                    <Typography color=\"error\" variant=\"caption\">\r\n                      {formik.errors.userType}\r\n                    </Typography>\r\n                  )}\r\n                </FormControl>\r\n              </Grid>\r\n\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  fullWidth\r\n                  id=\"bio\"\r\n                  label=\"Bio\"\r\n                  name=\"bio\"\r\n                  multiline\r\n                  rows={4}\r\n                  placeholder=\"Tell others about yourself...\"\r\n                  value={formik.values.bio}\r\n                  onChange={formik.handleChange}\r\n                  onBlur={formik.handleBlur}\r\n                  error={formik.touched.bio && Boolean(formik.errors.bio)}\r\n                  helperText={formik.touched.bio && formik.errors.bio}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12}>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Preferences (Optional)\r\n                </Typography>\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  fullWidth\r\n                  id=\"preferences.location\"\r\n                  label=\"Preferred Location\"\r\n                  name=\"preferences.location\"\r\n                  value={formik.values.preferences.location}\r\n                  onChange={formik.handleChange}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  fullWidth\r\n                  id=\"preferences.budget\"\r\n                  label=\"Budget (per month)\"\r\n                  name=\"preferences.budget\"\r\n                  type=\"number\"\r\n                  value={formik.values.preferences.budget}\r\n                  onChange={formik.handleChange}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  fullWidth\r\n                  id=\"preferences.moveInDate\"\r\n                  label=\"Move-in Date\"\r\n                  name=\"preferences.moveInDate\"\r\n                  type=\"date\"\r\n                  InputLabelProps={{ shrink: true }}\r\n                  value={formik.values.preferences.moveInDate}\r\n                  onChange={formik.handleChange}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  fullWidth\r\n                  id=\"preferences.duration\"\r\n                  label=\"Stay Duration (months)\"\r\n                  name=\"preferences.duration\"\r\n                  type=\"number\"\r\n                  value={formik.values.preferences.duration}\r\n                  onChange={formik.handleChange}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12}>\r\n                <FormControl component=\"fieldset\">\r\n                  <FormLabel component=\"legend\">Preferred Gender</FormLabel>\r\n                  <RadioGroup\r\n                    row\r\n                    aria-label=\"gender-preference\"\r\n                    name=\"preferences.gender\"\r\n                    value={formik.values.preferences.gender}\r\n                    onChange={formik.handleChange}\r\n                  >\r\n                    <FormControlLabel\r\n                      value=\"male\"\r\n                      control={<Radio />}\r\n                      label=\"Male\"\r\n                    />\r\n                    <FormControlLabel\r\n                      value=\"female\"\r\n                      control={<Radio />}\r\n                      label=\"Female\"\r\n                    />\r\n                    <FormControlLabel\r\n                      value=\"any\"\r\n                      control={<Radio />}\r\n                      label=\"Any\"\r\n                    />\r\n                  </RadioGroup>\r\n                </FormControl>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              sx={{ mt: 3, mb: 2 }}\r\n              disabled={loading}\r\n            >\r\n              {loading ? <CircularProgress size={24} /> : \"Complete Profile\"}\r\n            </Button>\r\n          </Box>\r\n        </Box>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default CompleteProfile;\r\n","import React, { useEffect } from 'react';\r\nimport { useNavigate, useSearchParams } from 'react-router-dom';\r\nimport { useDispatch } from 'react-redux';\r\nimport {\r\n  Container,\r\n  Paper,\r\n  Typography,\r\n  Box,\r\n  CircularProgress,\r\n  Alert\r\n} from '@mui/material';\r\nimport { CheckCircle as CheckCircleIcon } from '@mui/icons-material';\r\nimport { setToken, loadUser } from '../../redux/slices/authSlice';\r\nimport { AppDispatch } from '../../redux/store';\r\n\r\nconst AuthSuccess = () => {\r\n  const navigate = useNavigate();\r\n  const dispatch: AppDispatch = useDispatch();\r\n  const [searchParams] = useSearchParams();\r\n\r\n  useEffect(() => {\r\n    const token = searchParams.get('token');\r\n    const error = searchParams.get('error');\r\n\r\n    if (error) {\r\n      // Handle authentication error\r\n      setTimeout(() => {\r\n        navigate('/login', { \r\n          state: { \r\n            error: 'Authentication failed. Please try again.' \r\n          } \r\n        });\r\n      }, 3000);\r\n      return;\r\n    }\r\n\r\n    // Accept token-only flow and rely on API to fetch the user profile\r\n    if (token) {\r\n      try {\r\n        // Store token in localStorage\r\n        localStorage.setItem('token', token);\r\n        \r\n        // Update Redux state and load user\r\n        dispatch(setToken(token));\r\n        dispatch(loadUser());\r\n        \r\n        // Redirect shortly after setting up session\r\n        setTimeout(() => {\r\n          navigate('/dashboard');\r\n        }, 2000);\r\n      } catch (err) {\r\n        console.error('Error handling auth success:', err);\r\n        setTimeout(() => {\r\n          navigate('/login', { \r\n            state: { \r\n              error: 'Authentication data error. Please try again.' \r\n            } \r\n          });\r\n        }, 3000);\r\n      }\r\n    } else {\r\n      // Missing required parameters\r\n      setTimeout(() => {\r\n        navigate('/login', { \r\n          state: { \r\n            error: 'Authentication incomplete. Please try again.' \r\n          } \r\n        });\r\n      }, 3000);\r\n    }\r\n  }, [searchParams, dispatch, navigate]);\r\n\r\n  const error = searchParams.get('error');\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\" sx={{ mt: 8 }}>\r\n      <Paper elevation={3} sx={{ p: 4, textAlign: 'center' }}>\r\n        {error ? (\r\n          <>\r\n            <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n              Authentication failed: {error}\r\n            </Alert>\r\n            <Typography variant=\"body1\" color=\"text.secondary\">\r\n              Redirecting to login page...\r\n            </Typography>\r\n          </>\r\n        ) : (\r\n          <>\r\n            <Box sx={{ mb: 3 }}>\r\n              <CheckCircleIcon \r\n                sx={{ \r\n                  fontSize: 64, \r\n                  color: 'success.main',\r\n                  mb: 2 \r\n                }} \r\n              />\r\n            </Box>\r\n            \r\n            <Typography variant=\"h4\" component=\"h1\" gutterBottom>\r\n              Authentication Successful!\r\n            </Typography>\r\n            \r\n            <Typography variant=\"body1\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n              Welcome to Flatmates! Setting up your account...\r\n            </Typography>\r\n            \r\n            <Box sx={{ display: 'flex', justifyContent: 'center' }}>\r\n              <CircularProgress />\r\n            </Box>\r\n            \r\n            <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mt: 2 }}>\r\n              You will be redirected shortly.\r\n            </Typography>\r\n          </>\r\n        )}\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default AuthSuccess;"],"names":["validationSchema","Yup","email","required","password","min","Login","dispatch","useAppDispatch","navigate","useNavigate","isAuthenticated","loading","error","useSelector","state","auth","rememberMe","setRememberMe","useState","errorDialog","setErrorDialog","open","message","showRegisterButton","showForgotPasswordButton","useEffect","clearError","_errorData$errors","_errorData$errors$","_errorData$errors2","_errorData$errors2$","includes","errorData","errors","msg","errorMsg","errorType","type","handleCloseErrorDialog","formik","useFormik","initialValues","onSubmit","values","login","_jsxs","Grid","container","component","sx","height","children","_jsx","item","xs","sm","md","backgroundImage","backgroundRepeat","backgroundColor","t","palette","mode","grey","backgroundSize","backgroundPosition","Paper","elevation","square","Box","my","mx","display","flexDirection","alignItems","Avatar","m","bgcolor","LockOutlinedIcon","Typography","variant","noValidate","handleSubmit","mt","width","TextField","margin","fullWidth","id","label","name","autoComplete","autoFocus","value","onChange","handleChange","onBlur","handleBlur","touched","Boolean","helperText","FormControlLabel","control","Checkbox","color","checked","e","target","Button","mb","disabled","CircularProgress","size","Link","RouterLink","to","textAlign","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","onClick","handleNavigateToRegister","handleNavigateToForgotPassword","confirmPassword","oneOf","undefined","agreeToTerms","Register","errorMessage","toLowerCase","showAlert","registerData","_objectWithoutProperties","_excluded","register","_objectSpread","userType","PersonAddIcon","spacing","FormHelperText","ml","justifyContent","phone","matches","bio","max","AuthSuccess","useDispatch","searchParams","useSearchParams","token","get","setTimeout","localStorage","setItem","setToken","loadUser","err","console","Container","maxWidth","p","_Fragment","Alert","severity","CheckCircleIcon","fontSize","gutterBottom"],"sourceRoot":""}